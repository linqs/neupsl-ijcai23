{
  "options": {
    "runtime.db.intids": true,
    "runtime.log.level": "TRACE",
    "runtime.learn.method": "Energy",
    "categoricalevaluator.defaultpredicate": "ImageSum",
    "admmreasoner.computeperiod": 100,
    "admmreasoner.epsilonabs": 1.0e-6,
    "admmreasoner.epsilonrel": 1.0e-4,
    "admmreasoner.stepsize": 1.0,
    "gradientdescent.numsteps": 1000,
    "gradientdescent.runfulliterations": true,
    "gradientdescent.stepsize": 1.0e-14
  },
  "infer": {
    "options": {
      "admmreasoner.maxiterations": 5000
    },
    "rules": [
      "NeuralClassifier(Image, X, Y, Num) = PredictedNumber(Image, X, Y, Num) .",

      "PredictedNumber(Image, X, +Y, Num) / |Y| <= RowViolation(Image, X, Num) + 0.25 .",
      "PredictedNumber(Image, +X, Y, Num) / |X| <= ColViolation(Image, Y, Num) + 0.25 .",
      "RowViolation(Image, X, +Num1) + ColViolation(Image, Y, +Num2) <= Violation(Image) .",

      "1.0: RowViolation(Image, X, Num) = 0.0 ^2",
      "1.0: ColViolation(Image, X, Num) = 0.0 ^2",
      "1.0: Violation(Image) = 0.0 ^2"
    ]
  },
  "learn": {
    "options": {
      "admmreasoner.maxiterations": 100
    },
    "rules": [
      "1.0: NeuralClassifier(Puzzle, X, Y, Number) = PredictedNumber(Puzzle, X, Y, Number) ^2",

      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '0', '0') = 1.0",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '0', '1') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '0', '2') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '0', '3') = 0.0 .",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '1', '0') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '1', '1') = 1.0",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '1', '2') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '1', '3') = 0.0 .",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '2', '0') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '2', '1') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '2', '2') = 1.0",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '2', '3') = 0.0 .",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '3', '0') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '3', '1') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '3', '2') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '0', '3', '3') = 1.0",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '0', '0') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '0', '1') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '0', '2') + NeuralClassifier(Puzzle, '1', '0', '3') = 1.0",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '1', '0') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '1', '1') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '1', '2') + NeuralClassifier(Puzzle, '1', '1', '3') = 1.0",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '2', '2') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '2', '3') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '2', '0') + NeuralClassifier(Puzzle, '1', '2', '1') = 1.0",

      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '3', '2') = 0.0 .",
      "0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '3', '3') = 0.0 .",
      "1.0: 0.0 * FirstPuzzle(Puzzle) + NeuralClassifier(Puzzle, '1', '3', '0') + NeuralClassifier(Puzzle, '1', '3', '1') = 1.0",

      "1.0: NeuralClassifier(Puzzle, X, Y, +Number) = 1.0",
      "1.0: NeuralClassifier(Puzzle, +X, Y, Number) = 1.0",
      "1.0: NeuralClassifier(Puzzle, X, +Y, Number) = 1.0",

      "1.0: NeuralClassifier(Puzzle, '0', '0', Number) + NeuralClassifier(Puzzle, '0', '1', Number) + NeuralClassifier(Puzzle, '1', '0', Number) + NeuralClassifier(Puzzle, '1', '1', Number) = 1.0",
      "1.0: NeuralClassifier(Puzzle, '2', '0', Number) + NeuralClassifier(Puzzle, '2', '1', Number) + NeuralClassifier(Puzzle, '3', '0', Number) + NeuralClassifier(Puzzle, '3', '1', Number) = 1.0",
      "1.0: NeuralClassifier(Puzzle, '0', '2', Number) + NeuralClassifier(Puzzle, '0', '3', Number) + NeuralClassifier(Puzzle, '1', '2', Number) + NeuralClassifier(Puzzle, '1', '3', Number) = 1.0",
      "1.0: NeuralClassifier(Puzzle, '2', '2', Number) + NeuralClassifier(Puzzle, '2', '3', Number) + NeuralClassifier(Puzzle, '3', '2', Number) + NeuralClassifier(Puzzle, '3', '3', Number) = 1.0",

      "0.1: NeuralClassifier(ImageId, X, Y, Number) = 0.0 ^2"
    ]
  },
  "predicates": {
    "NeuralClassifier/4": {
      "type": "DeepPredicate",
      "options": {
        "model-path": "../scripts/neupsl-model.py::VSPCModel",
        "entity-data-map-path": "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/entity-data-map.txt",
        "inference::entity-data-map-path": "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/entity-data-map.txt",
        "entity-argument-indexes": "0,1,2",
        "class-size": 4,
        "save-path": "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/saved-networks/nesy-trained-tf",
        "learning-rate": 1.0e-3
      },
      "targets": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/digit_positive_targets.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/digit_targets.txt"
        ]
      }
    },
    "PredictedNumber/4": {
      "evaluations": [
        {
          "evaluator": "CategoricalEvaluator",
          "options": {
            "categoricalevaluator.categoryindexes": 3
          }
        }
      ],
      "targets": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/digit_positive_targets.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/digit_targets.txt"
        ]
      },
      "truth": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/pinned_digit_mapped_truth.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/digit_mapped_truth.txt"
        ]
      }
    },
    "Violation/1": {
      "evaluations": [
        {
          "evaluator": "DiscreteEvaluator",
          "options": {
            "discreteevaluator.threshold": 0.2
          }
        }
      ],
      "targets": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/violation_positive_targets.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/violation_targets.txt"
        ]
      },
      "truth": {
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/violation_truth.txt"
        ]
      }
    },
    "RowViolation/3": {
      "targets": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/row_col_violation_positive_targets.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/row_col_violation_targets.txt"
        ]
      }
    },
    "ColViolation/3": {
      "targets": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/row_col_violation_positive_targets.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/row_col_violation_targets.txt"
        ]
      }
    },
    "FirstPuzzle/1": {
      "observations": {
        "learn": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/learn/first_positive_puzzle.txt"
        ],
        "infer": [
          "../data/experiment::vspc/puzzle-dim::04/num-positive-puzzles::00004/train-percent::50/overlap-percent::00/neural-learning-rate::0.001000/split::00/eval/first_puzzle.txt"
        ]
      }
    }
  }
}